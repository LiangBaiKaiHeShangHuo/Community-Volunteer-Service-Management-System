"use strict";(self["webpackChunkvolunteer"]=self["webpackChunkvolunteer"]||[]).push([[139],{6458:function(e,t,a){a.d(t,{A:function(){return c}});a(8111),a(7588);function c({reqBody:e={},reqMethod:t="post",reqUrl:a="",async:c=!0,reqHeader:l={"Content-Type":"application/x-www-form-urlencoded"},callback:s}){let i=null,r=null;switch(Object.values(l)[0]){case"application/x-www-form-urlencoded":i=new URLSearchParams,Object.entries(e).forEach(([e,t])=>{i.append(e,t)}),r=i.toString();break;case"application/json":i=JSON.stringify(e),r=i;break}let n=new XMLHttpRequest;n.open(t,a,c),Object.entries(l).forEach(([e,t])=>{n.setRequestHeader(e,t)}),n.onload=function(){n.status>=200&&n.status<300?s(null,n.response):s(new Error(`请求失败，状态码：${n.status}`))},n.onerror=function(){s(new Error("网络错误"))},n.send(r)}},7139:function(e,t,a){a.r(t),a.d(t,{default:function(){return y}});var c=a(6768),l=a(4232),s=a(5130);const i={class:"certificates-grid"},r={class:"certificate-header"},n={class:"certificate-title"},o={class:"certificate-body"},d={class:"certificate-info"},u={class:"certificate-value"},f={class:"certificate-info"},p={class:"certificate-value"},v={class:"certificate-actions"},h=["onClick"],k={class:"certificate-no"};function m(e,t,a,m,L,g){return(0,c.uX)(),(0,c.CE)(c.FK,null,[t[10]||(t[10]=(0,c.Lk)("div",{class:"page-header1"},[(0,c.Lk)("div",{class:"page-title"},[(0,c.Lk)("i",null,[(0,c.Lk)("svg",{viewBox:"0 0 1024 1024",width:"35",height:"35"},[(0,c.Lk)("path",{d:"M937.905033 342.137851l-16.190675-22.293777c-8.18562-11.291341-17.165727-35.523183-18.429683-49.619302l-2.443648-27.698694c-3.05757-34.211077-27.554242-70.492634-57.937337-85.503616l-24.496672-12.194166c-12.422882-6.151253-31.382223-23.329017-38.965959-35.113903L764.682868 86.505753c-18.309306-28.818198-56.516891-49.342436-90.234423-48.343309l-27.181074 0.902826c-13.843328 0.349093-38.436301-5.754009-50.498053-12.699749l-23.72626-13.578499c-29.359893-16.900898-72.563114-16.900898-101.91097 0l-23.714223 13.578499c-12.037677 6.945739-36.666763 13.048841-50.498053 12.699749l-27.205148-0.902826c-33.705494-0.999127-71.901042 19.380659-90.258499 48.343309L264.746124 109.822732c-7.427246 11.820998-26.555114 28.998763-38.965959 35.162053l-24.508709 12.182129c-30.238643 15.010983-54.831617 51.256427-57.913262 85.515654l-2.455686 27.674618c-1.251918 13.963705-10.244063 38.207585-18.44172 49.619303l-16.1666 22.305814c-19.982543 27.686656-25.243008 71.359346-12.290467 103.078625l10.376477 25.64025c5.260465 12.916427 8.330072 38.70113 6.247554 52.664835l-4.080772 27.40979c-5.116013 34.018474 10.268138 75.115101 36.173217 97.240351l20.873332 17.623158c10.629268 9.004182 24.966141 30.395133 29.588608 43.636577l8.85973 26.230098c1.516747 4.803033 3.599265 9.389388 6.042914 13.867403l-97.023673 169.321958h140.503761l67.531365 104.763898 85.262863-148.84587c21.162235 8.065243 45.117212 10.015347 65.48496 4.261338l26.314361-7.475397c13.31367-3.852056 38.689092-3.852056 52.0148 0l26.290285 7.475397c19.356584 5.477143 42.035566 3.93632 62.439429-3.081645l84.588752 147.678215 67.567479-104.763899h140.515798l-95.133758-166.011596a95.338398 95.338398 0 0 0 7.956904-17.189802l8.847693-26.230098c4.490053-13.361821 18.959341-34.632395 29.612684-43.636577l20.885369-17.623158c25.881005-21.992835 41.277193-63.221877 36.16118-97.240351l-4.128923-27.40979c-2.046405-13.83129 1.047278-39.615993 6.295705-52.664835l10.376477-25.64025c12.723824-31.815579 7.451322-75.548458-12.543259-103.223077zM522.039422 807.622765c-196.021524 0-354.979043-161.894711-354.979043-361.647916 0-199.741166 158.957518-361.635878 354.979043-361.635878s354.967005 161.906749 354.967005 361.635878c0 199.753204-158.945481 361.647916-354.967005 361.647916z m0 0",fill:"#1e88e5","p-id":"1588"}),(0,c.Lk)("path",{d:"M522.039422 122.26969c-175.364871 0-317.553907 144.873437-317.553906 323.584782 0 178.723383 142.189035 323.584782 317.553906 323.584783 175.376909 0 317.541869-144.861399 317.541869-323.584783-0.012038-178.711346-142.16496-323.584782-317.541869-323.584782z m113.948646 482.397849l-109.229877-59.080917-110.373456 56.829871 21.402989-124.120483-87.128702-89.355672 122.387057-17.587046 56.540966-112.01058 54.217695 113.142122 122.06204 20.163108-88.958429 87.537984 19.079717 124.481613z",fill:"#1e88e5","p-id":"1589"})])]),(0,c.Lk)("h2",null,"服务证书")])],-1)),t[11]||(t[11]=(0,c.Fv)('<div class="filter-bar" data-v-75e750d2><div class="filter-option" data-v-75e750d2><span class="filter-label" data-v-75e750d2>证书类型</span><select class="filter-select" data-v-75e750d2><option value="all" data-v-75e750d2>全部证书</option></select></div><div class="filter-option" data-v-75e750d2><span class="filter-label" data-v-75e750d2>颁发年份</span><select class="filter-select" data-v-75e750d2><option value="all" data-v-75e750d2>全部年份</option></select></div><div class="search-bar" data-v-75e750d2><i class="fas fa-search search-icon" data-v-75e750d2></i><input type="text" class="search-input" placeholder="搜索证书名称..." data-v-75e750d2></div></div>',1)),(0,c.Lk)("div",i,[((0,c.uX)(!0),(0,c.CE)(c.FK,null,(0,c.pI)(L.cardarr,e=>((0,c.uX)(),(0,c.CE)("div",{class:"certificate-card",key:e.id},[(0,c.Lk)("div",r,[t[1]||(t[1]=(0,c.Lk)("div",{class:"certificate-icon"},[(0,c.Lk)("i",{class:"fas fa-award"})],-1)),(0,c.Lk)("div",n,(0,l.v_)(e.CERTIFICATE_NAME),1),t[2]||(t[2]=(0,c.Lk)("div",{class:"certificate-subtitle"},"杰出志愿者荣誉",-1))]),(0,c.Lk)("div",o,[(0,c.Lk)("div",d,[t[3]||(t[3]=(0,c.Lk)("span",{class:"certificate-label"},"证书编号",-1)),(0,c.Lk)("span",u,(0,l.v_)(e.CERTIFICATE_ID),1)]),(0,c.Lk)("div",f,[t[4]||(t[4]=(0,c.Lk)("span",{class:"certificate-label"},"颁发日期",-1)),(0,c.Lk)("span",p,(0,l.v_)(e.CERTIFICATE_DATE.slice(0,10)),1)]),t[5]||(t[5]=(0,c.Lk)("div",{class:"certificate-info"},[(0,c.Lk)("span",{class:"certificate-label"},"颁发单位"),(0,c.Lk)("span",{class:"certificate-value"},"C V S M S")],-1)),t[6]||(t[6]=(0,c.Lk)("div",{class:"certificate-description"}," 张先生过去一年积极参与社区志愿活动，服务时长158小时，表现突出，特授予五星志愿者称号。 ",-1))]),(0,c.Lk)("div",v,[(0,c.Lk)("div",{class:"certificate-btn zuo view",onClick:t[0]||(t[0]=(...e)=>g.chaLook&&g.chaLook(...e))},t[7]||(t[7]=[(0,c.Lk)("i",{class:"fas fa-eye"},null,-1),(0,c.eW)(" 查看 ")])),(0,c.Lk)("div",{class:"certificate-btn you download",onClick:t=>g.getPDF(e.CERTIFICATE_ID)},t[8]||(t[8]=[(0,c.Lk)("i",{class:"fas fa-download"},null,-1),(0,c.eW)(" 下载 ")]),8,h)])]))),128))]),(0,c.bo)((0,c.Lk)("div",k,t[9]||(t[9]=[(0,c.Lk)("span",null,"您还未获取证书",-1)]),512),[[s.aG,this.zhengshushow]])],64)}var L=a(6458),g={data(){return{cardarr:null,zhengshushow:!1}},created(){let e;if(e=localStorage.getItem("userCardArr"),null==e)(0,L.A)({reqBody:{token:localStorage.getItem("token"),deviceid:localStorage.getItem("equipment"),name:"54188"},reqUrl:"http://8.148.31.153:3030/queryCertificate",reqHeader:{"Content-Type":"application/json"},callback:(e,t)=>{try{if(!e){const e=JSON.parse(t);this.cardarr=e.resData.certificate,this.zhengshushow=!e.success,localStorage.setItem("userCardArr",t)}}catch(e){console.log(e)}}});else if("null"==e||"undefined"==e||""==e)(0,L.A)({reqBody:{token:localStorage.getItem("token"),deviceid:localStorage.getItem("equipment"),name:"54188"},reqUrl:"http://8.148.31.153:3030/queryCertificate",reqHeader:{"Content-Type":"application/json"},callback:(e,t)=>{try{if(!e){const e=JSON.parse(t);this.cardarr=e.resData.certificate,this.zhengshushow=!e.success,localStorage.setItem("userCardArr",t)}}catch(e){console.log(e)}}});else{const e=JSON.parse(localStorage.getItem("userCardArr"));this.cardarr=e.resData.certificate}},methods:{chaLook(){alert("暂时无法查看，请自行下载")},getPDF(e){const t={token:localStorage.getItem("token"),deviceid:localStorage.getItem("equipment"),certificateID:e};try{const e=()=>{const e=document.createElement("form");e.method="POST",e.action="http://8.148.31.153:3030/downloadCertificate",e.style.display="none",e.target="_download-frame";for(const[l,s]of Object.entries(t)){const t=document.createElement("input");t.type="hidden",t.name=l,t.value=s,e.appendChild(t)}const a="download-frame";let c=document.getElementById(a);c||(c=document.createElement("iframe"),c.name=a,c.id=a,c.style.display="none",document.body.appendChild(c)),document.body.appendChild(e),e.submit(),setTimeout(()=>{document.body.removeChild(e)},5e3)};e()}catch(a){console.log(a)}}}},C=a(1241);const b=(0,C.A)(g,[["render",m],["__scopeId","data-v-75e750d2"]]);var y=b}}]);
//# sourceMappingURL=139.0bb05629.js.map