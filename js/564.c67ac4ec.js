"use strict";(self["webpackChunkvolunteer"]=self["webpackChunkvolunteer"]||[]).push([[564],{3564:function(e,s,a){a.r(s),a.d(s,{default:function(){return V}});var i=a(6768),t=a(5130),o=a(4232);const n={id:"register",class:"content-page"},r={class:"register-container"},l={class:"form-content"},h={class:"form-row"},c={class:"form-col"},d={class:"form-group"},m={class:"error-message",id:"username-error"},p={class:"form-group"},u={class:"error-message",id:"password-error"},g={class:"form-group"},w={class:"error-message",id:"email-error"},f={class:"form-col"},y={class:"form-group"},k={class:"error-message",id:"phone-error"},v={class:"form-group"},b={class:"error-message",id:"confirm-password-error"},L={class:"form-group"},z={class:"verification-group"},$=["disabled"],C={class:"error-message",id:"confirm-password-error"},x={class:"agreement-group"},U={for:"agree"},D=["disabled"],q={class:"login-link"};function _(e,s,a,_,A,J){return(0,i.uX)(),(0,i.CE)("div",n,[(0,i.Lk)("div",r,[s[28]||(s[28]=(0,i.Lk)("div",{class:"page-header"},[(0,i.Lk)("h2",null,"创建新账户"),(0,i.Lk)("p",null,"加入志愿社区管家平台")],-1)),(0,i.Lk)("div",l,[(0,i.Lk)("div",h,[(0,i.Lk)("div",c,[(0,i.Lk)("div",d,[s[19]||(s[19]=(0,i.Lk)("label",{for:"register-name"},"用户名",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",id:"register-name",class:"form-control",placeholder:"姓名由中文、大小写英语、数字组成的十个字",name:"username","onUpdate:modelValue":s[0]||(s[0]=e=>A.name=e),onInput:s[1]||(s[1]=(...e)=>J.yhname&&J.yhname(...e))},null,544),[[t.Jo,A.name]]),(0,i.Lk)("span",m,(0,o.v_)(A.cwname),1)]),(0,i.Lk)("div",p,[s[20]||(s[20]=(0,i.Lk)("label",{for:"register-password"},"密码",-1)),(0,i.bo)((0,i.Lk)("input",{type:"password",id:"register-password",class:"form-control",placeholder:"密码由数字、大小写英语组成的十个字符",name:"Password","onUpdate:modelValue":s[2]||(s[2]=e=>A.password=e),onInput:s[3]||(s[3]=(...e)=>J.yhpassword&&J.yhpassword(...e))},null,544),[[t.Jo,A.password]]),(0,i.Lk)("span",u,(0,o.v_)(A.cwpassword),1)]),(0,i.Lk)("div",g,[s[21]||(s[21]=(0,i.Lk)("label",{for:"register-email"},"电子邮箱",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",id:"register-email",class:"form-control",placeholder:"电子邮件由字符: 字母、数字、特殊字符组成",name:"email","onUpdate:modelValue":s[4]||(s[4]=e=>A.email=e),onInput:s[5]||(s[5]=(...e)=>J.yhemail&&J.yhemail(...e))},null,544),[[t.Jo,A.email]]),(0,i.Lk)("span",w,(0,o.v_)(A.cwemail),1)])]),(0,i.Lk)("div",f,[(0,i.Lk)("div",y,[s[22]||(s[22]=(0,i.Lk)("label",{for:"register-phone"},"手机号码",-1)),(0,i.bo)((0,i.Lk)("input",{type:"tel",id:"register-phone",class:"form-control",placeholder:"请输入11位手机号码",name:"phone","onUpdate:modelValue":s[6]||(s[6]=e=>A.phone=e),onInput:s[7]||(s[7]=(...e)=>J.yhphone&&J.yhphone(...e))},null,544),[[t.Jo,A.phone]]),(0,i.Lk)("span",k,(0,o.v_)(A.cwphone),1)]),(0,i.Lk)("div",v,[s[23]||(s[23]=(0,i.Lk)("label",{for:"register-confirm-password"},"确认密码",-1)),(0,i.bo)((0,i.Lk)("input",{type:"password",id:"register-confirm-password",class:"form-control",placeholder:"请再次输入密码","onUpdate:modelValue":s[8]||(s[8]=e=>A.againpassword=e),onBlur:s[9]||(s[9]=(...e)=>J.yhagainpassword&&J.yhagainpassword(...e))},null,544),[[t.Jo,A.againpassword]]),(0,i.Lk)("span",b,(0,o.v_)(A.cwagainpassword),1)]),(0,i.Lk)("div",L,[s[24]||(s[24]=(0,i.Lk)("label",{for:"verification-code"},"验证码",-1)),(0,i.Lk)("div",z,[(0,i.bo)((0,i.Lk)("input",{type:"text",id:"verification-code",class:"form-control",placeholder:"请输入6位验证码",name:"verificationCodes","onUpdate:modelValue":s[10]||(s[10]=e=>A.yanzhengma=e),onInput:s[11]||(s[11]=e=>J.shuruyanzhengma())},null,544),[[t.Jo,A.yanzhengma]]),(0,i.Lk)("button",{disabled:A.isDisabled,type:"button",style:{width:"100px"},class:"verification-code-btn",id:"verification-btn",onClick:s[12]||(s[12]=(...e)=>J.btnyanzhengma&&J.btnyanzhengma(...e))},(0,o.v_)(A.textverificationCodes),9,$)]),(0,i.Lk)("span",C,(0,o.v_)(A.cwyanzhengma),1)])])]),(0,i.Lk)("div",x,[(0,i.bo)((0,i.Lk)("input",{type:"checkbox",id:"agree","onUpdate:modelValue":s[13]||(s[13]=e=>A.tongyi=e),onClick:s[14]||(s[14]=(...e)=>J.iftongyi&&J.iftongyi(...e))},null,512),[[t.lH,A.tongyi]]),(0,i.Lk)("label",U,[s[25]||(s[25]=(0,i.eW)("我已阅读并同意")),(0,i.Lk)("a",{onClick:s[15]||(s[15]=(...e)=>J.xieyi&&J.xieyi(...e))},"服务协议"),s[26]||(s[26]=(0,i.eW)("和")),(0,i.Lk)("a",{onClick:s[16]||(s[16]=(...e)=>J.xieyi&&J.xieyi(...e))},"隐私政策")])]),(0,i.Lk)("button",{disabled:A.isDisabled1,class:"btn",id:"registerBtn",onClick:s[17]||(s[17]=(...e)=>J.zhuce&&J.zhuce(...e))},(0,o.v_)(A.annuvalue),9,D),(0,i.Lk)("div",q,[(0,i.Lk)("p",null,[s[27]||(s[27]=(0,i.eW)("已有账号? ")),(0,i.Lk)("a",{href:"#",id:"goToLogin",onClick:s[18]||(s[18]=(...e)=>J.lijidenglu&&J.lijidenglu(...e))},"立即登录")])])])])])}a(4114);var A=a(6458),J={data(){return{name:"",cwname:"",phone:"",cwphone:"",password:"",cwpassword:"",againpassword:"",cwagainpassword:"",email:"",isemail:!1,cwemail:"",yanzhengma:"",cwyanzhengma:"",tongyi:!1,isDisabled:!1,isDisabled1:!1,annuvalue:"注册",userarr:[],textverificationCodes:"获取验证码"}},methods:{btnyanzhengma(){let e;this.isDisabled=!0,this.isemail?(0,A.A)({reqBody:{email:this.email},reqUrl:"http://8.148.31.153:3030/verificationCodes",callback:(s,a)=>{try{const i=JSON.parse(a);if(!s){this.$store.commit("tanchaung","验证码已发送，注意查收"),this.$store.commit("tanchuangshow",!0);let s=60;if(e=setInterval(()=>{this.textverificationCodes=s,0==s&&(s=60,clearInterval(e),e=null,this.textverificationCodes="获取验证码",this.isDisabled=!1),s--},1e3),!i.success)return this.$store.commit("tanchaung","用户已存在"===i.message.msg?"用户已存在":"发送失败"),void this.$store.commit("tanchuangshow",!0)}}catch(s){console.log(s.message)}}}):(this.$store.commit("tanchaung","电子邮件格式不正确"),this.$store.commit("tanchuangshow",!0),this.isDisabled=!1)},zhuce(){this.isDisabled1=!0,this.annuvalue="注册中...",this.tongyi?(0,A.A)({reqBody:{username:this.name,password:this.password,email:this.email,phone:this.phone,verificationCodes:this.yanzhengma},reqUrl:"http://8.148.31.153:3030/signin",callback:(e,s)=>{try{if(!e){const e=JSON.parse(s);e.success?(this.$store.commit("tanchaung","注册成功"),this.$store.commit("tanchuangshow",!0),this.$router.push({name:"UserLogin"}),this.isDisabled1=!1):(this.$store.commit("Cuowu","用户已存在"==e.message.msg?"用户已存在":"信息填写错误"),this.$store.commit("Cuowushow",!0),this.annuvalue="注册",this.isDisabled1=!1)}}catch(e){console.log(e)}}}):(this.annuvalue="注册",this.$store.commit("tanchaung","同意协议方可登录"),this.$store.commit("tanchuangshow",!0),this.tongyi=!0,this.isDisabled1=!1)},yhname(){return/^[\u4e00-\u9fa5a-zA-Z0-9@._-]{1,14}$/.test(this.name)?void(this.cwname=""):""==this.name?void(this.cwname="用户名不能为空"):/\s/.test(this.name)?void(this.cwname="用户名不能有空格"):void(this.cwname="用户名不应该超过14个字")},yhphone(){/^1[3-9]\d{9}$/.test(this.phone)?this.cwphone="":""===this.phone?this.cwphone="手机号不能为空":this.cwphone="请输入正确手机号"},yhpassword(){/^.{8,16}$/.test(this.password)?this.cwpassword="":""===this.password?this.cwpassword="密码不能为空":this.cwpassword="密码应为8~16个字符"},yhagainpassword(){this.password==this.againpassword?this.cwagainpassword="":this.cwagainpassword="第二次密码错误"},yhemail(){return""===this.email?(this.cwemail="电子邮件不能为空",void(this.isemail=!1)):/\s/.test(this.email)?(this.cwemail="电子邮件不能有空格",void(this.isemail=!1)):/^[a-zA-Z0-9\u4e00-\u9fa5._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(this.email)?this.email.length>64?(this.cwemail="电子邮件不应超过64个字符",void(this.isemail=!1)):(this.cwemail="",void(this.isemail=!0)):(this.cwemail="电子邮件格式不正确",void(this.isemail=!1))},shuruyanzhengma(){if(!/^\d*$/.test(this.yanzhengma))return this.yanzhengma="",void(this.cwyanzhengma="只能输入数字");this.yanzhengma.length>6?(this.yanzhengma="",this.cwyanzhengma="验证码必须是6位数字"):this.cwyanzhengma=""},iftongyi(){this.tongyi=!this.tongyi},xieyi(){this.$router.push({name:"UserAgreement"})},lijidenglu(){this.$router.push("UserLogin")}}},j=a(1241);const I=(0,j.A)(J,[["render",_]]);var V=I},6458:function(e,s,a){a.d(s,{A:function(){return i}});a(8111),a(7588);function i({reqBody:e={},reqMethod:s="post",reqUrl:a="",async:i=!0,reqHeader:t={"Content-Type":"application/x-www-form-urlencoded"},callback:o}){let n=null,r=null;switch(Object.values(t)[0]){case"application/x-www-form-urlencoded":n=new URLSearchParams,Object.entries(e).forEach(([e,s])=>{n.append(e,s)}),r=n.toString();break;case"application/json":n=JSON.stringify(e),r=n;break}let l=new XMLHttpRequest;l.open(s,a,i),Object.entries(t).forEach(([e,s])=>{l.setRequestHeader(e,s)}),l.onload=function(){l.status>=200&&l.status<300?o(null,l.response):o(new Error(`请求失败，状态码：${l.status}`))},l.onerror=function(){o(new Error("网络错误"))},l.send(r)}}}]);
//# sourceMappingURL=564.c67ac4ec.js.map