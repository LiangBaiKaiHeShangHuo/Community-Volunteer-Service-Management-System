"use strict";(self["webpackChunkvolunteer"]=self["webpackChunkvolunteer"]||[]).push([[60],{5060:function(s,e,i){i.r(e),i.d(e,{default:function(){return B}});var a=i(6768),o=i(5130),t=i(4232);const n={id:"register",class:"content-page"},r={class:"register-container"},l={class:"form-content"},h={class:"form-row"},c={class:"form-col"},d={class:"form-group"},m={class:"error-message",id:"username-error"},p={class:"form-group"},u={class:"error-message",id:"password-error"},g={class:"form-group"},w={class:"error-message",id:"email-error"},y={class:"form-col"},v={class:"form-group"},k={class:"error-message",id:"phone-error"},f={class:"form-group"},L={class:"error-message",id:"confirm-password-error"},b={class:"form-group"},z={class:"verification-group"},$=["disabled"],C={class:"error-message",id:"confirm-password-error"},x={class:"agreement-group"},D={for:"agree"},U=["disabled"],_={class:"login-link"};function A(s,e,i,A,J,I){return(0,a.uX)(),(0,a.CE)("div",n,[(0,a.Lk)("div",r,[e[29]||(e[29]=(0,a.Lk)("div",{class:"page-header"},[(0,a.Lk)("h2",null,"创建新账户"),(0,a.Lk)("p",null,"加入志愿社区管家平台")],-1)),(0,a.Lk)("div",l,[(0,a.Lk)("div",h,[(0,a.Lk)("div",c,[(0,a.Lk)("div",d,[e[19]||(e[19]=(0,a.Lk)("label",{for:"register-name"},"用户名",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text",id:"register-name",class:"form-control",placeholder:"姓名由中文、大小写英语、数字组成的十个字",name:"username","onUpdate:modelValue":e[0]||(e[0]=s=>J.name=s),onInput:e[1]||(e[1]=(...s)=>I.yhname&&I.yhname(...s))},null,544),[[o.Jo,J.name]]),(0,a.Lk)("span",m,(0,t.v_)(J.cwname),1)]),(0,a.Lk)("div",p,[e[20]||(e[20]=(0,a.Lk)("label",{for:"register-password"},"密码",-1)),(0,a.bo)((0,a.Lk)("input",{type:"password",id:"register-password",class:"form-control",placeholder:"密码由数字、大小写英语组成的十个字符",name:"Password","onUpdate:modelValue":e[2]||(e[2]=s=>J.password=s),onInput:e[3]||(e[3]=(...s)=>I.yhpassword&&I.yhpassword(...s))},null,544),[[o.Jo,J.password]]),(0,a.Lk)("span",u,(0,t.v_)(J.cwpassword),1)]),(0,a.Lk)("div",g,[e[21]||(e[21]=(0,a.Lk)("label",{for:"register-email"},"电子邮箱",-1)),(0,a.bo)((0,a.Lk)("input",{type:"text",id:"register-email",class:"form-control",placeholder:"电子邮件由字符: 字母、数字、特殊字符组成",name:"email","onUpdate:modelValue":e[4]||(e[4]=s=>J.email=s),onInput:e[5]||(e[5]=(...s)=>I.yhemail&&I.yhemail(...s))},null,544),[[o.Jo,J.email]]),(0,a.Lk)("span",w,(0,t.v_)(J.cwemail),1)])]),(0,a.Lk)("div",y,[(0,a.Lk)("div",v,[e[22]||(e[22]=(0,a.Lk)("label",{for:"register-phone"},"手机号码",-1)),(0,a.bo)((0,a.Lk)("input",{type:"tel",id:"register-phone",class:"form-control",placeholder:"请输入11位手机号码",name:"phone","onUpdate:modelValue":e[6]||(e[6]=s=>J.phone=s),onInput:e[7]||(e[7]=(...s)=>I.yhphone&&I.yhphone(...s))},null,544),[[o.Jo,J.phone]]),(0,a.Lk)("span",k,(0,t.v_)(J.cwphone),1)]),(0,a.Lk)("div",f,[e[23]||(e[23]=(0,a.Lk)("label",{for:"register-confirm-password"},"确认密码",-1)),(0,a.bo)((0,a.Lk)("input",{type:"password",id:"register-confirm-password",class:"form-control",placeholder:"请再次输入密码","onUpdate:modelValue":e[8]||(e[8]=s=>J.againpassword=s),onBlur:e[9]||(e[9]=(...s)=>I.yhagainpassword&&I.yhagainpassword(...s))},null,544),[[o.Jo,J.againpassword]]),(0,a.Lk)("span",L,(0,t.v_)(J.cwagainpassword),1)]),(0,a.Lk)("div",b,[e[24]||(e[24]=(0,a.Lk)("label",{for:"verification-code"},"验证码",-1)),(0,a.Lk)("div",z,[(0,a.bo)((0,a.Lk)("input",{type:"text",id:"verification-code",class:"form-control",placeholder:"请输入6位验证码",name:"verificationCodes","onUpdate:modelValue":e[10]||(e[10]=s=>J.yanzhengma=s),onInput:e[11]||(e[11]=s=>I.shuruyanzhengma())},null,544),[[o.Jo,J.yanzhengma]]),(0,a.Lk)("button",{disabled:J.isDisabled,type:"button",style:{width:"100px"},class:"verification-code-btn",id:"verification-btn",onClick:e[12]||(e[12]=(...s)=>I.btnyanzhengma&&I.btnyanzhengma(...s))},(0,t.v_)(J.textverificationCodes),9,$)]),(0,a.Lk)("span",C,(0,t.v_)(J.cwyanzhengma),1),e[25]||(e[25]=(0,a.Lk)("span",{class:"error-message",id:"verification-error"},null,-1))])])]),(0,a.Lk)("div",x,[(0,a.bo)((0,a.Lk)("input",{type:"checkbox",id:"agree","onUpdate:modelValue":e[13]||(e[13]=s=>J.tongyi=s),onClick:e[14]||(e[14]=(...s)=>I.iftongyi&&I.iftongyi(...s))},null,512),[[o.lH,J.tongyi]]),(0,a.Lk)("label",D,[e[26]||(e[26]=(0,a.eW)("我已阅读并同意")),(0,a.Lk)("a",{onClick:e[15]||(e[15]=(...s)=>I.xieyi&&I.xieyi(...s))},"服务协议"),e[27]||(e[27]=(0,a.eW)("和")),(0,a.Lk)("a",{onClick:e[16]||(e[16]=(...s)=>I.xieyi&&I.xieyi(...s))},"隐私政策")])]),(0,a.Lk)("button",{disabled:J.isDisabled1,class:"btn",id:"registerBtn",onClick:e[17]||(e[17]=(...s)=>I.zhuce&&I.zhuce(...s))},(0,t.v_)(J.annuvalue),9,U),(0,a.Lk)("div",_,[(0,a.Lk)("p",null,[e[28]||(e[28]=(0,a.eW)("已有账号? ")),(0,a.Lk)("a",{href:"#",id:"goToLogin",onClick:e[18]||(e[18]=(...s)=>I.lijidenglu&&I.lijidenglu(...s))},"立即登录")])])])])])}i(4114);var J=i(6458),I={data(){return{name:"",cwname:"",phone:"",cwphone:"",password:"",cwpassword:"",againpassword:"",cwagainpassword:"",email:"",isemail:!1,cwemail:"",yanzhengma:"",cwyanzhengma:"",tongyi:!1,isDisabled:!1,isDisabled1:!1,annuvalue:"注册",userarr:[],textverificationCodes:"获取验证码"}},methods:{btnyanzhengma(){let s;this.isDisabled=!0,this.isemail?(0,J.A)({reqBody:{email:this.email},reqUrl:"http://8.148.31.153:3030/verificationCodes",callback:(e,i)=>{try{const a=JSON.parse(i);if(!e){this.$store.commit("tanchaung","验证码已发送，注意查收"),this.$store.commit("tanchuangshow",!0);let e=60;if(s=setInterval(()=>{this.textverificationCodes=e,0==e&&(e=60,clearInterval(s),s=null,this.textverificationCodes="获取验证码",this.isDisabled=!1),e--},1e3),this.isDisabled=!1,!a.success)return this.$store.commit("tanchaung","用户已存在"===a.message.msg?"用户已存在":"发送失败"),void this.$store.commit("tanchuangshow",!0)}}catch(e){console.log(e.message)}}}):(this.$store.commit("tanchaung","电子邮件格式不正确"),this.$store.commit("tanchuangshow",!0),this.isDisabled=!1)},zhuce(){this.isDisabled1=!0,this.annuvalue="注册中...",this.tongyi?(0,J.A)({reqBody:{username:this.name,password:this.password,email:this.email,phone:this.phone,verificationCodes:this.yanzhengma},reqUrl:"http://8.148.31.153:3030/signin",callback:(s,e)=>{try{if(!s){const s=JSON.parse(e);s.success?(this.$store.commit("tanchaung","注册成功"),this.$store.commit("tanchuangshow",!0),this.$router.push({name:"UserLogin"}),this.isDisabled1=!1):(this.$store.commit("Cuowu","用户已存在"==s.message.msg?"用户已存在":"信息填写错误"),this.$store.commit("Cuowushow",!0),this.annuvalue="注册",this.isDisabled1=!1)}}catch(s){console.log(s.messae)}}}):(this.annuvalue="注册",this.$store.commit("tanchaung","同意协议方可登录"),this.$store.commit("tanchuangshow",!0),this.tongyi=!0,this.isDisabled1=!1)},yhname(){return/^[\u4e00-\u9fa5a-zA-Z0-9@._-]{1,14}$/.test(this.name)?void(this.cwname=""):""==this.name?void(this.cwname="用户名不能为空"):/\s/.test(this.name)?void(this.cwname="用户名不能有空格"):void(this.cwname="用户名不应该超过14个字")},yhphone(){/^1[3-9]\d{9}$/.test(this.phone)?this.cwphone="":""===this.phone?this.cwphone="手机号不能为空":this.cwphone="请输入正确手机号"},yhpassword(){/^.{8,16}$/.test(this.password)?this.cwpassword="":""===this.password?this.cwpassword="密码不能为空":this.cwpassword="密码应为8~16个字符"},yhagainpassword(){this.password==this.againpassword?this.cwagainpassword="":this.cwagainpassword="第二次密码错误"},yhemail(){return""===this.email?(this.cwemail="电子邮件不能为空",void(this.isemail=!1)):/\s/.test(this.email)?(this.cwemail="电子邮件不能有空格",void(this.isemail=!1)):/^[a-zA-Z0-9\u4e00-\u9fa5._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(this.email)?this.email.length>64?(this.cwemail="电子邮件不应超过64个字符",void(this.isemail=!1)):(this.cwemail="",void(this.isemail=!0)):(this.cwemail="电子邮件格式不正确",void(this.isemail=!1))},shuruyanzhengma(){if(!/^\d*$/.test(this.yanzhengma))return this.yanzhengma="",void(this.cwyanzhengma="只能输入数字");this.yanzhengma.length>6?(this.yanzhengma="",this.cwyanzhengma="验证码必须是6位数字"):this.cwyanzhengma=""},iftongyi(){this.tongyi=!this.tongyi},xieyi(){this.$router.push({name:"UserAgreement"})},lijidenglu(){this.$router.push("UserLogin")}}},V=i(1241);const q=(0,V.A)(I,[["render",A]]);var B=q}}]);
//# sourceMappingURL=60.54289062.js.map