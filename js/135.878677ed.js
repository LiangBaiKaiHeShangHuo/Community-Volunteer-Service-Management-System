"use strict";(self["webpackChunkvolunteer"]=self["webpackChunkvolunteer"]||[]).push([[135],{2135:function(t,e,a){a.r(e),a.d(e,{default:function(){return A}});a(8111),a(2489);var i=a(6768),c=a(4232),s=a(5130);const n={id:"dashboard",class:"content-page active"},o={class:"activities-grid"},r={class:"activity-header"},l={class:"activity-title"},d={class:"caochushengluehao"},p={style:{"font-size":"12px",color:"grey"}},g={class:"activity-type team"},u={style:{display:"flex","justify-content":"flex-start","align-items":"center","margin-bottom":"15px"}},h={style:{display:"flex",width:"100%","justify-content":"space-around"}},v={class:"activity-time"},k={class:"activity-time"},y={style:{width:"100%",height:"100px","overflow-y":"scroll","scrollbar-width":"none","margin-bottom":"15px",color:"darkgrey",padding:"15px",border:"2px solid whitesmoke","border-radius":"15px"}},m={style:{"white-space":"pre-line"}},f={class:"progress-container"},L={class:"progress-info"},b={style:{display:"flex","justify-content":"space-between"}},w=["onClick"];function _(t,e,a,_,S,x){const q=(0,i.g2)("RouterView");return(0,i.uX)(),(0,i.CE)(i.FK,null,[(0,i.bo)((0,i.Lk)("div",n,[e[7]||(e[7]=(0,i.Lk)("div",{class:"page-header1"},[(0,i.Lk)("div",{class:"page-title"},[(0,i.Lk)("i",null,[(0,i.Lk)("svg",{viewBox:"0 0 1024 1024",width:"30",height:"30"},[(0,i.Lk)("path",{d:"M840.96 179.2H537.6c0 14.08-11.52 25.6-25.6 25.6s-25.6-11.52-25.6-25.6H183.04C154.88 179.2 132.266667 201.813333 132.266667 229.973333v658.346667c0 28.16 22.613333 50.773333 50.773333 50.773333h658.346667c28.16 0 50.773333-22.613333 50.773333-50.773333V229.973333c-0.426667-28.16-23.04-50.773333-51.2-50.773333zM554.666667 763.733333H332.8c-18.773333 0-34.133333-15.36-34.133333-34.133333s15.36-34.133333 34.133333-34.133333h221.866667c18.773333 0 34.133333 15.36 34.133333 34.133333s-15.36 34.133333-34.133333 34.133333z m136.533333-170.666666H332.8c-18.773333 0-34.133333-15.36-34.133333-34.133334s15.36-34.133333 34.133333-34.133333h358.4c18.773333 0 34.133333 15.36 34.133333 34.133333s-15.36 34.133333-34.133333 34.133334z m0-170.666667H332.8c-18.773333 0-34.133333-15.36-34.133333-34.133333s15.36-34.133333 34.133333-34.133334h358.4c18.773333 0 34.133333 15.36 34.133333 34.133334s-15.36 34.133333-34.133333 34.133333z",fill:"#1e88e5","p-id":"7362"}),(0,i.Lk)("path",{d:"M512 85.333333c-52.053333 0-93.866667 41.813333-93.866667 93.866667s41.813333 93.866667 93.866667 93.866667 93.866667-41.813333 93.866667-93.866667-41.813333-93.866667-93.866667-93.866667z m0 119.466667c-14.08 0-25.6-11.52-25.6-25.6s11.52-25.6 25.6-25.6 25.6 11.52 25.6 25.6-11.52 25.6-25.6 25.6z",fill:"#1e88e5","p-id":"7363"})])]),(0,i.Lk)("h2",null,"活动广场")])],-1)),(0,i.Lk)("div",o,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(S.dataArr,(t,a)=>((0,i.uX)(),(0,i.CE)("div",{class:"activity-card environment",key:a},[(0,i.Lk)("div",r,[(0,i.Lk)("div",l,[(0,i.Lk)("span",d,(0,c.v_)(t.activity_name),1),e[0]||(e[0]=(0,i.Lk)("br",null,null,-1)),(0,i.Lk)("span",p," 发布人： "+(0,c.v_)(` ${t.activity_publisherName}`),1)]),(0,i.Lk)("div",g,(0,c.v_)(S.getConfig.filter(e=>e.config_id==t.activity_type)[0].activity_type_config),1)]),(0,i.Lk)("div",u,[e[3]||(e[3]=(0,i.Lk)("svg",{viewBox:"0 0 1024 1024",width:"35",height:"35"},[(0,i.Lk)("path",{d:"M512 512m-480 0a480 480 0 1 0 960 0 480 480 0 1 0-960 0Z",fill:"#2e8be1"}),(0,i.Lk)("path",{d:"M728 560H488c-13.2 0-24-10.8-24-24V344c0-13.2 10.8-24 24-24s24 10.8 24 24v168h216c13.2 0 24 10.8 24 24s-10.8 24-24 24z",fill:"#ffffff"})],-1)),(0,i.Lk)("div",h,[(0,i.Lk)("div",v,[e[1]||(e[1]=(0,i.Lk)("span",null,"开始时间：",-1)),(0,i.Lk)("span",null,(0,c.v_)(new Date(t.activity_startTime).toISOString().replace(/T/," ").replace(/\..+/,"")),1)]),(0,i.Lk)("div",k,[e[2]||(e[2]=(0,i.Lk)("span",null,"结束时间：",-1)),(0,i.Lk)("span",null,(0,c.v_)(new Date(t.activity_finishTime).toISOString().replace(/T/," ").replace(/\..+/,"")),1)])])]),e[6]||(e[6]=(0,i.Lk)("span",{style:{display:"inline-block","margin-bottom":"10px"}},"活动简介：",-1)),(0,i.Lk)("div",y,[(0,i.Lk)("span",m,(0,c.v_)(t.activity_text),1)]),(0,i.Lk)("div",f,[(0,i.Lk)("div",L,[(0,i.Lk)("div",b,[e[4]||(e[4]=(0,i.Lk)("span",null,"报名人数",-1)),(0,i.Lk)("span",null,(0,c.v_)(t.activity_numberParticipants)+"/"+(0,c.v_)(t.activity_peopleCounting),1)]),e[5]||(e[5]=(0,i.Lk)("div",{class:"progress-bar"},[(0,i.Lk)("div",{class:"progress-fill enrollment"})],-1))]),(0,i.Lk)("button",{style:{width:"80px",height:"40px","border-radius":"10px",border:"0","background-color":"#2e8be1",color:"white"},onClick:e=>x.baoming(t.activity_id)}," 报名 ",8,w)])]))),128))])],512),[[s.aG,t.$store.state.isgongzuotaishow]]),(0,i.bF)(q)],64)}var S=a(6458),x=a(782),q={data(){return{userarr:null,dataArr:[],getConfig:[],activetype:localStorage.getItem("getConfig")}},created(){(0,S.A)({reqBody:{token:localStorage.getItem("token"),deviceid:localStorage.getItem("equipment")},reqUrl:"http://8.148.31.153:3030/getActivity",callback:(t,e)=>{try{if(!t){const t=JSON.parse(e);this.dataArr=t.resData}}catch(t){console.log(t)}}}),this.jiance(),this.timer=setInterval(()=>{(0,S.A)({reqBody:{token:localStorage.getItem("token"),deviceid:localStorage.getItem("equipment")},reqUrl:"http://8.148.31.153:3030/getActivity",callback:(t,e)=>{try{if(!t){const t=JSON.parse(e);this.dataArr=t.resData}}catch(t){console.log(t)}}})},3e4)},computed:{...(0,x.aH)(["activeType"])},watch:{activeType(t,e){e=t,this.activetype=e,this.jiance(),(0,S.A)({reqBody:{token:localStorage.getItem("token"),deviceid:localStorage.getItem("equipment")},reqUrl:"http://8.148.31.153:3030/getActivity",callback:(t,e)=>{try{if(!t){const t=JSON.parse(e);this.dataArr=t.resData}}catch(t){console.log(t)}}})}},methods:{jiance(){const t=this.activetype;"null"!=t&&t&&""!=t&&(this.getConfig=JSON.parse(localStorage.getItem("getConfig")).resData)},baoming(t){(0,S.A)({reqBody:{token:localStorage.getItem("token"),deviceid:localStorage.getItem("equipment"),activity_id:t},reqUrl:"http://8.148.31.153:3030/registration",callback:(t,e)=>{try{const t=JSON.parse(e);t.success?(this.$store.commit("tanchaung","报名成功"),this.$store.commit("tanchuangshow",!0)):(this.$store.commit("tanchaung","报名失败"),this.$store.commit("tanchuangshow",!0))}catch(a){console.log(a)}}})}},unmounted(){clearInterval(this.timer)}},I=a(1241);const C=(0,I.A)(q,[["render",_],["__scopeId","data-v-6ad56dcc"]]);var A=C},6458:function(t,e,a){a.d(e,{A:function(){return i}});a(8111),a(7588);function i({reqBody:t={},reqMethod:e="post",reqUrl:a="",async:i=!0,reqHeader:c={"Content-Type":"application/x-www-form-urlencoded"},callback:s}){let n=null,o=null;switch(Object.values(c)[0]){case"application/x-www-form-urlencoded":n=new URLSearchParams,Object.entries(t).forEach(([t,e])=>{n.append(t,e)}),o=n.toString();break;case"application/json":n=JSON.stringify(t),o=n;break}let r=new XMLHttpRequest;r.open(e,a,i),Object.entries(c).forEach(([t,e])=>{r.setRequestHeader(t,e)}),r.onload=function(){r.status>=200&&r.status<300?s(null,r.response):s(new Error(`请求失败，状态码：${r.status}`))},r.onerror=function(){s(new Error("网络错误"))},r.send(o)}}}]);
//# sourceMappingURL=135.878677ed.js.map