"use strict";(self["webpackChunkvolunteer"]=self["webpackChunkvolunteer"]||[]).push([[551],{3551:function(t,e,i){i.r(e),i.d(e,{default:function(){return S}});var l=i(6768),c=i(5130),s=i(4232);const a={class:"activity-management"},o={class:"publish-form"},r={class:"form-grid"},n={style:{display:"flex"}},v={class:"form-group",style:{display:"flex",flex:"1","flex-direction":"column","margin-right":"20px"}},p={class:"form-group",style:{display:"flex",flex:"1","flex-direction":"column"}},d={style:{display:"flex"}},u={class:"form-group",style:{display:"flex",flex:"1","flex-direction":"column","margin-right":"20px"}},y={class:"cwtime"},h={class:"form-group",style:{display:"flex",flex:"1","flex-direction":"column","margin-right":"20px"}},f={class:"cwtime"},m={class:"form-group",style:{display:"flex",flex:"1","flex-direction":"column"}},g={class:"cwtime"},A={class:"form-group"};function k(t,e,i,k,L,x){return(0,l.uX)(),(0,l.CE)("div",a,[e[18]||(e[18]=(0,l.Lk)("div",{class:"page-header1"},[(0,l.Lk)("div",{class:"page-title"},[(0,l.Lk)("i",null,[(0,l.Lk)("svg",{viewBox:"0 0 1024 1024",width:"30",height:"30"},[(0,l.Lk)("path",{d:"M910.762667 369.664l-135.765334 135.765333a85.333333 85.333333 0 0 1-120.661333 0l-135.765333-135.765333a85.333333 85.333333 0 0 1 0-120.661333l135.765333-135.765334a85.333333 85.333333 0 0 1 120.661333 0l135.765334 135.765334a85.333333 85.333333 0 0 1 0 120.661333zM362.666667 938.666667H170.666667a85.333333 85.333333 0 0 1-85.333334-85.333334v-192a85.333333 85.333333 0 0 1 85.333334-85.333333h192a85.333333 85.333333 0 0 1 85.333333 85.333333v192a85.333333 85.333333 0 0 1-85.333333 85.333334z m0-448H170.666667a85.333333 85.333333 0 0 1-85.333334-85.333334v-192a85.333333 85.333333 0 0 1 85.333334-85.333333h192a85.333333 85.333333 0 0 1 85.333333 85.333333v192a85.333333 85.333333 0 0 1-85.333333 85.333334z m256 85.333333h192a85.333333 85.333333 0 0 1 85.333333 85.333333v192a85.333333 85.333333 0 0 1-85.333333 85.333334h-192a85.333333 85.333333 0 0 1-85.333334-85.333334v-192a85.333333 85.333333 0 0 1 85.333334-85.333333z",fill:"#1e88e5","p-id":"7629"})])]),(0,l.Lk)("h2",null,"活动管理")])],-1)),e[19]||(e[19]=(0,l.Lk)("h2",{class:"section-title"},[(0,l.Lk)("i",{class:"fas fa-plus-circle"}),(0,l.eW)(" 活动发布 ")],-1)),(0,l.Lk)("div",o,[(0,l.Lk)("div",r,[(0,l.Lk)("div",n,[(0,l.Lk)("div",v,[e[10]||(e[10]=(0,l.Lk)("label",null,"活动名称",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",placeholder:"请输入活动名称","onUpdate:modelValue":e[0]||(e[0]=t=>L.ActivityName=t)},null,512),[[c.Jo,L.ActivityName]])]),(0,l.Lk)("div",p,[e[12]||(e[12]=(0,l.Lk)("label",null,"活动类型",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-control","onUpdate:modelValue":e[1]||(e[1]=t=>L.ActivitySelected=t)},[e[11]||(e[11]=(0,l.Lk)("option",{value:"",selected:"",disabled:""},"请选择...",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(L.ActivitySelectedArr,t=>((0,l.uX)(),(0,l.CE)("option",{key:t.id},(0,s.v_)(t.activity_type_config),1))),128))],512),[[c.u1,L.ActivitySelected]])])]),(0,l.Lk)("div",d,[(0,l.Lk)("div",u,[e[13]||(e[13]=(0,l.Lk)("label",null,"开始时间",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",placeholder:"开始时间 年-月-日 时:分","onUpdate:modelValue":e[2]||(e[2]=t=>L.setActivity=t),onBlur:e[3]||(e[3]=(...t)=>x.srsetActivity&&x.srsetActivity(...t))},null,544),[[c.Jo,L.setActivity]]),(0,l.Lk)("span",y,(0,s.v_)(L.cwsetActivity),1)]),(0,l.Lk)("div",h,[e[14]||(e[14]=(0,l.Lk)("label",null,"结束时间",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",placeholder:"结束时间 年-月-日 时:分","onUpdate:modelValue":e[4]||(e[4]=t=>L.overActivity=t),onBlur:e[5]||(e[5]=(...t)=>x.sroverActivity&&x.sroverActivity(...t))},null,544),[[c.Jo,L.overActivity]]),(0,l.Lk)("span",f,(0,s.v_)(L.cwoverActivity),1)]),(0,l.Lk)("div",m,[e[15]||(e[15]=(0,l.Lk)("label",null,"最大人数",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",placeholder:"最大人数","onUpdate:modelValue":e[6]||(e[6]=t=>L.allPeople=t),onBlur:e[7]||(e[7]=(...t)=>x.srallPeople&&x.srallPeople(...t))},null,544),[[c.Jo,L.allPeople]]),(0,l.Lk)("span",g,(0,s.v_)(L.cwallPeople),1)])]),(0,l.Lk)("div",A,[e[16]||(e[16]=(0,l.Lk)("label",null,"活动描述",-1)),(0,l.bo)((0,l.Lk)("textarea",{rows:"5",cols:"150","onUpdate:modelValue":e[8]||(e[8]=t=>L.inputText=t),class:"form-group-text",style:{"max-width":"100%","min-width":"500px","min-height":"100px"},placeholder:"请在此输入活动描述，包括活动目标、流程、注意事项等信息..."},"                    ",512),[[c.Jo,L.inputText]])])]),(0,l.Lk)("button",{class:"btn btn-publish",onClick:e[9]||(e[9]=t=>x.setActive())},e[17]||(e[17]=[(0,l.Lk)("i",{class:"fas fa-arrow-right"},null,-1),(0,l.eW)(" 下一步 ")]))]),e[20]||(e[20]=(0,l.Lk)("h2",{class:"section-title"},[(0,l.Lk)("i",{class:"fas fa-plus-circle"}),(0,l.eW)(" 活动查询 ")],-1)),e[21]||(e[21]=(0,l.Lk)("div",{style:{width:"100%",height:"80%",display:"flex","align-items":"center","justify-content":"center"}},[(0,l.Lk)("span",null,"敬请期待")],-1))])}i(8111),i(2489);var L=i(6458),x={data(){return{ActivityName:"",ActivitySelected:"",ActivitySelectedArr:[],ActivityState:"111",setActivity:"",cwsetActivity:"",overActivity:"",cwoverActivity:"",allPeople:"",cwallPeople:"",inputText:"",ActivitySearch:""}},methods:{setActive(){if(!this.ActivitySelected)return;const t=this.ActivitySelectedArr.filter(t=>t.activity_type_config==this.ActivitySelected)[0].config_id;(0,L.A)({reqBody:{token:localStorage.getItem("token"),deviceid:localStorage.getItem("equipment"),activity_name:this.ActivityName,activity_type:t,activity_startTime:this.setActivity,activity_finishTime:this.overActivity,activity_peopleCounting:this.allPeople,activity_text:this.inputText},reqUrl:"http://8.148.31.153:3030/setActivity",callback:(t,e)=>{try{if(!t){const t=JSON.parse(e);t.success?(this.$store.commit("tanchaung","活动创建完成"),this.$store.commit("tanchuangshow",!0),this.ActivityName="",this.ActivitySelected="",this.setActivity="",this.overActivity="",this.allPeople="",this.inputText=""):(this.$store.commit("tanchaung","活动创建失败"),this.$store.commit("tanchuangshow",!0))}}catch(t){console.log(t)}}})},srsetActivity(){/^20[2-9][0-9]-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01]) (0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/.test(this.setActivity)?this.cwsetActivity="":this.cwsetActivity="格式错误( 示例 2025-07-14 15:03 )"},sroverActivity(){/^20[2-9][0-9]-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01]) (0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/.test(this.overActivity)?this.cwoverActivity="":this.cwoverActivity="格式错误( 示例 2025-07-14 15:03 )"},srallPeople(){/^\d*$/.test(this.allPeople)?this.cwallPeople="":this.cwallPeople="请输入正确人数"}},created(){const t=localStorage.getItem("getConfig");if("null"==t||"undefined"==t||""==t)(0,L.A)({reqBody:{token:localStorage.getItem("token"),deviceid:localStorage.getItem("equipment")},reqUrl:"http://8.148.31.153:3030/getConfig",callback:(t,e)=>{try{if(!t){const t=JSON.parse(e);this.ActivitySelectedArr=t.resData,localStorage.setItem("getConfig",e)}}catch(i){console.log(i)}}});else{const t=JSON.parse(localStorage.getItem("getConfig"));this.ActivitySelectedArr=t.resData}}},w=i(1241);const b=(0,w.A)(x,[["render",k],["__scopeId","data-v-0bbb6fa6"]]);var S=b},6458:function(t,e,i){i.d(e,{A:function(){return l}});i(8111),i(7588);function l({reqBody:t={},reqMethod:e="post",reqUrl:i="",async:l=!0,reqHeader:c={"Content-Type":"application/x-www-form-urlencoded"},callback:s}){let a=null,o=null;switch(Object.values(c)[0]){case"application/x-www-form-urlencoded":a=new URLSearchParams,Object.entries(t).forEach(([t,e])=>{a.append(t,e)}),o=a.toString();break;case"application/json":a=JSON.stringify(t),o=a;break}let r=new XMLHttpRequest;r.open(e,i,l),Object.entries(c).forEach(([t,e])=>{r.setRequestHeader(t,e)}),r.onload=function(){r.status>=200&&r.status<300?s(null,r.response):s(new Error(`请求失败，状态码：${r.status}`))},r.onerror=function(){s(new Error("网络错误"))},r.send(o)}}}]);
//# sourceMappingURL=551.37c3a569.js.map