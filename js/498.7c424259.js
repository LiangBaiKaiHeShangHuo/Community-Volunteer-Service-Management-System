"use strict";(self["webpackChunkvolunteer"]=self["webpackChunkvolunteer"]||[]).push([[498],{1498:function(e,s,t){t.r(s),t.d(s,{default:function(){return x}});var o=t(6768),n=t(5130),i=t(4232);const a={id:" login",class:"content-page"},r={style:{"max-width":"450px",margin:"0 auto",background:"white","border-radius":"16px","box-shadow":"var(--card-shadow)",overflow:"hidden",width:"395px"}},l={style:{padding:"30px"}},u={class:"form-group"},d={class:"yonghumingcuowu"},p={class:"form-group"},h={class:"yonghumingcuowu"},c={style:{display:"flex","justify-content":"space-between","align-items":"center","margin-bottom":"20px"}},m=["disabled"],g={style:{"text-align":"center","margin-top":"25px","padding-top":"20px","border-top":"1px solid var(--border-color)"}};function w(e,s,t,w,y,f){return(0,o.bo)(((0,o.uX)(),(0,o.CE)("div",a,[(0,o.Lk)("div",r,[s[14]||(s[14]=(0,o.Lk)("div",{style:{background:"var(--primary-color)",color:"white","text-align":"center",padding:"30px"}},[(0,o.Lk)("h2",{style:{"font-size":"28px","margin-bottom":"10px"}},"欢迎回来"),(0,o.Lk)("p",null,"志愿社区管家平台")],-1)),(0,o.Lk)("div",l,[(0,o.Lk)("div",u,[s[9]||(s[9]=(0,o.Lk)("label",{for:"login-username"},"用户名",-1)),(0,o.bo)((0,o.Lk)("input",{type:"text",id:"login-username",class:"form-control",placeholder:"请输入邮箱",name:"email","onUpdate:modelValue":s[0]||(s[0]=e=>y.name=e),onInput:s[1]||(s[1]=(...e)=>f.jiancename&&f.jiancename(...e))},null,544),[[n.Jo,y.name]]),(0,o.Lk)("span",d,(0,i.v_)(y.yonghuname),1)]),(0,o.Lk)("div",p,[s[10]||(s[10]=(0,o.Lk)("label",{for:"login-password"},"密码",-1)),(0,o.bo)((0,o.Lk)("input",{type:"password",id:"login-password",class:"form-control",placeholder:"请输入密码",name:"Password","onUpdate:modelValue":s[2]||(s[2]=e=>y.password=e),onInput:s[3]||(s[3]=(...e)=>f.jiancepassword&&f.jiancepassword(...e))},null,544),[[n.Jo,y.password]]),(0,o.Lk)("span",h,(0,i.v_)(y.yonghupassword),1)]),(0,o.Lk)("div",c,[(0,o.Lk)("div",null,[(0,o.bo)((0,o.Lk)("input",{type:"checkbox",id:"remember","onUpdate:modelValue":s[4]||(s[4]=e=>y.tongyi=e),onClick:s[5]||(s[5]=(...e)=>f.iftongyi&&f.iftongyi(...e))},null,512),[[n.lH,y.tongyi]]),s[11]||(s[11]=(0,o.Lk)("label",{for:"remember",style:{"margin-left":"5px",color:"var(--primary-color)"}},"同意协议",-1))]),(0,o.Lk)("a",{href:"#",style:{color:"var(--primary-color)","text-decoration":"none"},onClick:s[6]||(s[6]=(...e)=>f.wnagijpassdorw&&f.wnagijpassdorw(...e))},"忘记密码?")]),(0,o.Lk)("button",{disabled:y.isDisabled,class:"btn btn-primary btn-block",id:"loginBtn",type:"submit",onClick:s[7]||(s[7]=(...e)=>f.denglu&&f.denglu(...e))},(0,i.v_)(y.annuvalue),9,m),s[13]||(s[13]=(0,o.Lk)("div",{style:{display:"flex","justify-content":"center","align-items":"center","margin-top":"20px"}},null,-1)),(0,o.Lk)("div",g,[(0,o.Lk)("p",null,[s[12]||(s[12]=(0,o.eW)(" 还没有账号? ")),(0,o.Lk)("a",{href:"#",id:"goToRegister",style:{padding:"20px 20px",color:"var(--primary-color)","text-decoration":"none","font-weight":"500"},onClick:s[8]||(s[8]=(...e)=>f.lijizhuce&&f.lijizhuce(...e))},"立即注册")])])])])],512)),[[n.aG,e.$store.state.isdenglushow]])}t(4114);var y=t(6458),f={data(){return{name:"",yonghuname:"",password:"",yonghupassword:"",ifjizhume:!1,tongyi:!1,userarr:"",dengluname:"",denglupassword:"",isDisabled:!1,annuvalue:"登录"}},created(){},methods:{jiancename(){/^[a-zA-Z0-9\u4e00-\u9fa5._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(this.name)?""!=this.name?/\s/.test(this.name)?this.yonghuname="电子邮件不能有空格":this.name.length>64?this.yonghuname="电子邮件不应超过64个字符":this.yonghuname="":this.yonghuname="电子邮件不能为空":this.yonghuname="电子邮件格式不正确"},jiancepassword(){/^.{8,16}$/.test(this.password)?this.yonghupassword="":""===this.password?this.yonghupassword="密码不能为空":this.yonghupassword="密码应为8~16个字符"},jizhume(){this.ifjizhume=!this.ifjizhume,this.ifjizhume&&(this.$store.commit("ifjizhuwo"),console.log(this.$store.state.jizhuwo))},iftongyi(){this.tongyi=!this.tongyi},wnagijpassdorw(){alert("你真的忘记密码了？"),alert("你个sb")},lijizhuce(){this.$router.push("UserRegistration")},denglu(){this.isDisabled=!0,this.annuvalue="登录中...";const e=new URLSearchParams;e.append("email",this.name),e.append("password",this.password);const s=e.toString().replace(/%40/g,"@"),t={pattern:"POST",url:"http://8.148.31.153:3030/login",shuju:s};(0,y.A)(t,e=>{if(this.userarr=0==JSON.parse(e.responseText).success?JSON.parse(e.responseText).message:JSON.parse(e.responseText),JSON.parse(e.responseText).success)if(this.tongyi){localStorage.setItem("denglutoken",!0),this.$store.commit("dlcg","退出登录"),this.$store.commit("yonghuxx",this.userarr),localStorage.setItem("userxingxi",JSON.stringify(this.userarr));setTimeout(()=>{this.$router.push({name:"FunctiontWorkbench"}),this.$store.commit("ifisgongzuotaishow",!0)},2e3);this.isDisabled=!1}else this.annuvalue="登录",this.$store.commit("tanchaung","同意协议方可登录"),this.$store.commit("tanchuangshow",!0),this.tongyi=!0,this.isDisabled=!1;else this.$store.commit("Cuowu",""==this.name&&""==this.password?"账号或密码不能为空":this.userarr),this.$store.commit("Cuowushow",!0),this.annuvalue="登录",this.isDisabled=!1},!1)}}},b=t(1241);const k=(0,b.A)(f,[["render",w],["__scopeId","data-v-9fc2a5ae"]]);var x=k},6458:function(e,s){function t(e,s,t){const o=new XMLHttpRequest;o.open(e.pattern,e.url,t),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.setRequestHeader("Accept","application/json"),o.onload=function(){o.status>=200&&o.status<400?s({responseText:o.responseText}):o.status>=400&&o.status<=500?s(console.log("用户名和密码不匹配")):console.error("网路错误",o.statusText)},o.onerror=function(){console.error("用户名和密码不匹配")},o.send(e.shuju)}s.A=t}}]);
//# sourceMappingURL=498.7c424259.js.map