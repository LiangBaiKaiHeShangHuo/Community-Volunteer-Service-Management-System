"use strict";(self["webpackChunkvolunteer"]=self["webpackChunkvolunteer"]||[]).push([[869],{6458:function(e,s){function a(e,s,a){const i=new XMLHttpRequest;i.open(e.pattern,e.url,a),i.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),i.setRequestHeader("Accept","application/json"),i.onload=function(){i.status>=200&&i.status<400?s({responseText:i.responseText}):i.status>=400&&i.status<=500?s(console.log("用户名和密码不匹配")):console.error("网路错误",i.statusText)},i.onerror=function(){console.error("用户名和密码不匹配")},i.send(e.shuju)}s.A=a},7869:function(e,s,a){a.r(s),a.d(s,{default:function(){return V}});var i=a(6768),t=a(5130),o=a(4232);const n={id:"register",class:"content-page"},r={class:"register-container"},l={class:"form-content"},c={class:"form-row"},h={class:"form-col"},d={class:"form-group"},p={class:"error-message",id:"username-error"},u={class:"form-group"},m={class:"error-message",id:"password-error"},g={class:"form-group"},w={class:"error-message",id:"email-error"},f={class:"form-col"},v={class:"form-group"},k={class:"error-message",id:"phone-error"},L={class:"form-group"},y={class:"error-message",id:"confirm-password-error"},b={class:"form-group"},x={class:"verification-group"},C=["disabled"],$={class:"agreement-group"},z=["disabled"],T={class:"login-link"};function D(e,s,a,D,J,U){return(0,i.uX)(),(0,i.CE)("div",n,[(0,i.Lk)("div",r,[s[25]||(s[25]=(0,i.Lk)("div",{class:"page-header"},[(0,i.Lk)("h2",null,"创建新账户"),(0,i.Lk)("p",null,"加入志愿社区管家平台")],-1)),(0,i.Lk)("div",l,[(0,i.Lk)("div",c,[(0,i.Lk)("div",h,[(0,i.Lk)("div",d,[s[16]||(s[16]=(0,i.Lk)("label",{for:"register-name"},"用户名",-1)),(0,i.bo)((0,i.Lk)("input",{type:"text",id:"register-name",class:"form-control",placeholder:"姓名由中文、大小写英语、数字组成的十个字",name:"username","onUpdate:modelValue":s[0]||(s[0]=e=>J.name=e),onInput:s[1]||(s[1]=(...e)=>U.yhname&&U.yhname(...e))},null,544),[[t.Jo,J.name]]),(0,i.Lk)("span",p,(0,o.v_)(J.cwname),1)]),(0,i.Lk)("div",u,[s[17]||(s[17]=(0,i.Lk)("label",{for:"register-password"},"密码",-1)),(0,i.bo)((0,i.Lk)("input",{type:"password",id:"register-password",class:"form-control",placeholder:"密码由数字、大小写英语组成的十个字符",name:"Password","onUpdate:modelValue":s[2]||(s[2]=e=>J.password=e),onBlur:s[3]||(s[3]=(...e)=>U.yhpassword&&U.yhpassword(...e))},null,544),[[t.Jo,J.password]]),(0,i.Lk)("span",m,(0,o.v_)(J.cwpassword),1)]),(0,i.Lk)("div",g,[s[18]||(s[18]=(0,i.Lk)("label",{for:"register-email"},"电子邮箱",-1)),(0,i.bo)((0,i.Lk)("input",{type:"txet",id:"register-email",class:"form-control",placeholder:"电子邮件由字符: 字母、数字、特殊字符组成",name:"email","onUpdate:modelValue":s[4]||(s[4]=e=>J.email=e),onBlur:s[5]||(s[5]=(...e)=>U.yhemail&&U.yhemail(...e))},null,544),[[t.Jo,J.email]]),(0,i.Lk)("span",w,(0,o.v_)(J.cwemail),1)])]),(0,i.Lk)("div",f,[(0,i.Lk)("div",v,[s[19]||(s[19]=(0,i.Lk)("label",{for:"register-phone"},"手机号码",-1)),(0,i.bo)((0,i.Lk)("input",{type:"tel",id:"register-phone",class:"form-control",placeholder:"请输入11位手机号码",name:"phone","onUpdate:modelValue":s[6]||(s[6]=e=>J.phone=e),onInput:s[7]||(s[7]=(...e)=>U.yhphone&&U.yhphone(...e))},null,544),[[t.Jo,J.phone]]),(0,i.Lk)("span",k,(0,o.v_)(J.cwphone),1)]),(0,i.Lk)("div",L,[s[20]||(s[20]=(0,i.Lk)("label",{for:"register-confirm-password"},"确认密码",-1)),(0,i.bo)((0,i.Lk)("input",{type:"password",id:"register-confirm-password",class:"form-control",placeholder:"请再次输入密码","onUpdate:modelValue":s[8]||(s[8]=e=>J.againpassword=e),onBlur:s[9]||(s[9]=(...e)=>U.yhagainpassword&&U.yhagainpassword(...e))},null,544),[[t.Jo,J.againpassword]]),(0,i.Lk)("span",y,(0,o.v_)(J.cwagainpassword),1)]),(0,i.Lk)("div",b,[s[21]||(s[21]=(0,i.Lk)("label",{for:"verification-code"},"验证码",-1)),(0,i.Lk)("div",x,[(0,i.bo)((0,i.Lk)("input",{type:"text",id:"verification-code",class:"form-control",placeholder:"请输入6位验证码",name:"verificationCodes","onUpdate:modelValue":s[10]||(s[10]=e=>J.yanzhengma=e)},null,512),[[t.Jo,J.yanzhengma]]),(0,i.Lk)("button",{disabled:J.isDisabled,type:"button",style:{width:"100px"},class:"verification-code-btn",id:"verification-btn",onClick:s[11]||(s[11]=(...e)=>U.btnyanzhengma&&U.btnyanzhengma(...e))},(0,o.v_)(J.textverificationCodes),9,C)]),s[22]||(s[22]=(0,i.Lk)("span",{class:"error-message",id:"verification-error"},null,-1))])])]),(0,i.Lk)("div",$,[(0,i.bo)((0,i.Lk)("input",{type:"checkbox",id:"agree","onUpdate:modelValue":s[12]||(s[12]=e=>J.tongyi=e),onClick:s[13]||(s[13]=(...e)=>U.iftongyi&&U.iftongyi(...e))},null,512),[[t.lH,J.tongyi]]),s[23]||(s[23]=(0,i.Lk)("label",{for:"agree"},[(0,i.eW)("我已阅读并同意"),(0,i.Lk)("a",{href:"#"},"《服务协议》"),(0,i.eW)("和"),(0,i.Lk)("a",{href:"#"},"《隐私政策》")],-1))]),(0,i.Lk)("button",{disabled:J.isDisabled,class:"btn",id:"registerBtn",onClick:s[14]||(s[14]=(...e)=>U.zhuce&&U.zhuce(...e))},(0,o.v_)(J.annuvalue),9,z),(0,i.Lk)("div",T,[(0,i.Lk)("p",null,[s[24]||(s[24]=(0,i.eW)("已有账号? ")),(0,i.Lk)("a",{href:"#",id:"goToLogin",style:{padding:"20px 20px"},onClick:s[15]||(s[15]=(...e)=>U.lijidenglu&&U.lijidenglu(...e))},"立即登录")])])])])])}a(4114);function J(e,s,a){var i=new XMLHttpRequest;i.open("GET",`http://8.148.31.153:3030/verificationCodes?${e}`,a),i.onload=function(){i.status>=200&&i.status<300?s(i.responseText):s(i.statusText)},i.onerror=function(){console.error("Request failed")},i.send()}var U=J,S=a(6458),_={data(){return{name:"",cwname:"",phone:"",cwphone:"",password:"",cwpassword:"",againpassword:"",cwagainpassword:"",email:"",isemail:!1,cwemail:"",yanzhengma:"",tongyi:!1,isDisabled:!1,annuvalue:"注册",userarr:[],textverificationCodes:"获取验证码"}},methods:{btnyanzhengma(){this.isDisabled=!0;const e=new URLSearchParams({email:this.email}),s=e.toString();let a;this.isemail?U(s,e=>{let s=JSON.parse(e);if(!s.success)return this.$store.commit("tanchaung",s.success?"发送成功":"发送失败"),this.$store.commit("tanchuangshow",!0),void(this.isDisabled=!1);this.$store.commit("tanchaung","验证码已发送，注意查收"),this.$store.commit("tanchuangshow",!0);let i=5;a=setInterval(()=>{this.textverificationCodes=i,0==i&&(i=5,clearInterval(a),a=null,this.textverificationCodes="获取验证码",this.isDisabled=!1),i--},1e3)},!0):(this.$store.commit("tanchaung","电子邮件格式不正确"),this.$store.commit("tanchuangshow",!0),this.isDisabled=!1)},zhuce(){this.isDisabled1=!0,this.annuvalue="注册中...";const e=new URLSearchParams;e.append("username",this.name),e.append("password",this.password),e.append("email",this.email),e.append("phone",this.phone),e.append("verificationCodes",this.yanzhengma);const s=e.toString(),a={pattern:"POST",url:"http://8.148.31.153:3030/signin",shuju:s};this.tongyi?(0,S.A)(a,e=>{if(this.userarr=0==JSON.parse(e.responseText).success?JSON.parse(e.responseText).message:JSON.parse(e.responseText),JSON.parse(e.responseText).success){setTimeout(()=>{this.$router.push({name:"UserLogin"})},2e3);this.isDisabled1=!1}else this.$store.commit("Cuowu","缺少必填字段:[verificationCodes]"==this.userarr?"验证码错误":this.userarr),this.$store.commit("Cuowushow",!0),this.annuvalue="注册",this.isDisabled1=!1},!1):(this.annuvalue="注册",this.$store.commit("tanchaung","同意协议方可登录"),this.$store.commit("tanchuangshow",!0),this.tongyi=!0,this.isDisabled1=!1)},yhname(){return/^[\u4e00-\u9fa5a-zA-Z0-9@._-]{1,14}$/.test(this.name)?void(this.cwname=""):""==this.name?void(this.cwname="用户名不能为空"):/\s/.test(this.name)?void(this.cwname="用户名不能有空格"):void(this.cwname="用户名不应该超过14个字")},yhphone(){/^1[3-9]\d{9}$/.test(this.phone)?this.cwphone="":""===this.phone?this.cwphone="手机号不能为空":this.cwphone="请输入正确手机号"},yhpassword(){/^.{8,16}$/.test(this.password)?this.cwpassword="":""===this.password?this.cwpassword="密码不能为空":this.cwpassword="密码应为8~16个字符"},yhagainpassword(){this.password==this.againpassword?this.cwagainpassword="":this.cwagainpassword="第二次密码错误"},yhemail(){return""===this.email?(this.cwemail="电子邮件不能为空",void(this.isemail=!1)):/\s/.test(this.email)?(this.cwemail="电子邮件不能有空格",void(this.isemail=!1)):/^[a-zA-Z0-9\u4e00-\u9fa5._-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(this.email)?this.email.length>64?(this.cwemail="电子邮件不应超过64个字符",void(this.isemail=!1)):(this.cwemail="",void(this.isemail=!0)):(this.cwemail="电子邮件格式不正确",void(this.isemail=!1))},iftongyi(){this.tongyi=!this.tongyi},lijidenglu(){this.$router.push("UserLogin")}}},A=a(1241);const R=(0,A.A)(_,[["render",D]]);var V=R}}]);
//# sourceMappingURL=869.39232fa3.js.map