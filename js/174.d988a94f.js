"use strict";(self["webpackChunkvolunteer"]=self["webpackChunkvolunteer"]||[]).push([[174],{2174:function(t,e,i){i.r(e),i.d(e,{default:function(){return q}});var l=i(6768),c=i(5130),a=i(4232);const s={class:"activity-management"},o={class:"publish-form"},r={class:"form-grid"},n={style:{display:"flex"}},v={class:"form-group",style:{display:"flex",flex:"1","flex-direction":"column","margin-right":"20px"}},u={class:"form-group",style:{display:"flex",flex:"1","flex-direction":"column"}},d={style:{display:"flex"}},p={class:"form-group",style:{display:"flex",flex:"1","flex-direction":"column","margin-right":"20px"}},y={class:"cwtime"},h={class:"form-group",style:{display:"flex",flex:"1","flex-direction":"column","margin-right":"20px"}},m={class:"cwtime"},f={class:"form-group",style:{display:"flex",flex:"1","flex-direction":"column"}},g={class:"cwtime"},k={class:"form-group"},A={class:"active"},L={class:"table"},w={class:"card"};function x(t,e,i,x,b,_){const S=(0,l.g2)("router-link"),P=(0,l.g2)("router-view");return(0,l.uX)(),(0,l.CE)("div",s,[e[19]||(e[19]=(0,l.Lk)("div",{class:"page-header1"},[(0,l.Lk)("div",{class:"page-title"},[(0,l.Lk)("i",null,[(0,l.Lk)("svg",{viewBox:"0 0 1024 1024",width:"30",height:"30"},[(0,l.Lk)("path",{d:"M910.762667 369.664l-135.765334 135.765333a85.333333 85.333333 0 0 1-120.661333 0l-135.765333-135.765333a85.333333 85.333333 0 0 1 0-120.661333l135.765333-135.765334a85.333333 85.333333 0 0 1 120.661333 0l135.765334 135.765334a85.333333 85.333333 0 0 1 0 120.661333zM362.666667 938.666667H170.666667a85.333333 85.333333 0 0 1-85.333334-85.333334v-192a85.333333 85.333333 0 0 1 85.333334-85.333333h192a85.333333 85.333333 0 0 1 85.333333 85.333333v192a85.333333 85.333333 0 0 1-85.333333 85.333334z m0-448H170.666667a85.333333 85.333333 0 0 1-85.333334-85.333334v-192a85.333333 85.333333 0 0 1 85.333334-85.333333h192a85.333333 85.333333 0 0 1 85.333333 85.333333v192a85.333333 85.333333 0 0 1-85.333333 85.333334z m256 85.333333h192a85.333333 85.333333 0 0 1 85.333333 85.333333v192a85.333333 85.333333 0 0 1-85.333333 85.333334h-192a85.333333 85.333333 0 0 1-85.333334-85.333334v-192a85.333333 85.333333 0 0 1 85.333334-85.333333z",fill:"#1e88e5","p-id":"7629"})])]),(0,l.Lk)("h2",null,"活动管理")])],-1)),e[20]||(e[20]=(0,l.Lk)("h2",{class:"section-title"},[(0,l.Lk)("i",{class:"fas fa-plus-circle"}),(0,l.eW)(" 活动发布 ")],-1)),(0,l.Lk)("div",o,[(0,l.Lk)("div",r,[(0,l.Lk)("div",n,[(0,l.Lk)("div",v,[e[10]||(e[10]=(0,l.Lk)("label",null,"活动名称",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",placeholder:"请输入活动名称","onUpdate:modelValue":e[0]||(e[0]=t=>b.ActivityName=t)},null,512),[[c.Jo,b.ActivityName]])]),(0,l.Lk)("div",u,[e[12]||(e[12]=(0,l.Lk)("label",null,"活动类型",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-control","onUpdate:modelValue":e[1]||(e[1]=t=>b.ActivitySelected=t)},[e[11]||(e[11]=(0,l.Lk)("option",{value:"",selected:"",disabled:""},"请选择...",-1)),((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(b.ActivitySelectedArr,t=>((0,l.uX)(),(0,l.CE)("option",{key:t.id},(0,a.v_)(t.activity_type_config),1))),128))],512),[[c.u1,b.ActivitySelected]])])]),(0,l.Lk)("div",d,[(0,l.Lk)("div",p,[e[13]||(e[13]=(0,l.Lk)("label",null,"开始时间",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",placeholder:"开始时间 年-月-日 时:分","onUpdate:modelValue":e[2]||(e[2]=t=>b.setActivity=t),onBlur:e[3]||(e[3]=(...t)=>_.srsetActivity&&_.srsetActivity(...t))},null,544),[[c.Jo,b.setActivity]]),(0,l.Lk)("span",y,(0,a.v_)(b.cwsetActivity),1)]),(0,l.Lk)("div",h,[e[14]||(e[14]=(0,l.Lk)("label",null,"结束时间",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",placeholder:"结束时间 年-月-日 时:分","onUpdate:modelValue":e[4]||(e[4]=t=>b.overActivity=t),onBlur:e[5]||(e[5]=(...t)=>_.sroverActivity&&_.sroverActivity(...t))},null,544),[[c.Jo,b.overActivity]]),(0,l.Lk)("span",m,(0,a.v_)(b.cwoverActivity),1)]),(0,l.Lk)("div",f,[e[15]||(e[15]=(0,l.Lk)("label",null,"最大人数",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control",placeholder:"最大人数","onUpdate:modelValue":e[6]||(e[6]=t=>b.allPeople=t),onBlur:e[7]||(e[7]=(...t)=>_.srallPeople&&_.srallPeople(...t))},null,544),[[c.Jo,b.allPeople]]),(0,l.Lk)("span",g,(0,a.v_)(b.cwallPeople),1)])]),(0,l.Lk)("div",k,[e[16]||(e[16]=(0,l.Lk)("label",null,"活动描述",-1)),(0,l.bo)((0,l.Lk)("textarea",{rows:"5","onUpdate:modelValue":e[8]||(e[8]=t=>b.inputText=t),class:"form-group-text",style:{width:"100%","max-width":"100%","min-width":"500px","min-height":"100px"},placeholder:"请在此输入活动描述，包括活动目标、流程、注意事项等信息..."},"                    ",512),[[c.Jo,b.inputText]])])]),(0,l.Lk)("button",{class:"btn btn-publish",onClick:e[9]||(e[9]=t=>_.setActive())}," 发布活动 ")]),e[21]||(e[21]=(0,l.Lk)("h2",{class:"section-title"},[(0,l.Lk)("i",{class:"fas fa-plus-circle"}),(0,l.eW)(" 活动查询 ")],-1)),(0,l.Lk)("div",A,[(0,l.Lk)("div",L,[(0,l.bF)(S,{to:{name:"Functiont_Left"},class:"router_a"},{default:(0,l.k6)(()=>e[17]||(e[17]=[(0,l.eW)("我的发布")])),_:1,__:[17]}),(0,l.bF)(S,{to:{name:"Functiont_Right"},class:"router_a"},{default:(0,l.k6)(()=>e[18]||(e[18]=[(0,l.eW)("我的参与")])),_:1,__:[18]})]),(0,l.Lk)("div",w,[(0,l.bF)(P)])])])}i(8111),i(2489);var b=i(6458),_={data(){return{ActivityName:"",ActivitySelected:"",ActivitySelectedArr:[],ActivityState:"111",setActivity:"",cwsetActivity:"",overActivity:"",cwoverActivity:"",allPeople:"",cwallPeople:"",inputText:"",ActivitySearch:""}},methods:{setActive(){if(!this.ActivitySelected)return this.$store.commit("tanchaung","未填写活动信息"),void this.$store.commit("tanchuangshow",!0);const t=this.ActivitySelectedArr.filter(t=>t.activity_type_config==this.ActivitySelected)[0].config_id;(0,b.A)({reqBody:{token:localStorage.getItem("token"),deviceid:localStorage.getItem("equipment"),activity_name:this.ActivityName,activity_type:t,activity_startTime:this.setActivity,activity_finishTime:this.overActivity,activity_peopleCounting:this.allPeople,activity_text:this.inputText},reqUrl:"http://8.148.31.153:3030/setActivity",callback:(t,e)=>{try{if(!t){const t=JSON.parse(e);t.success?(this.$store.commit("tanchaung","活动创建完成"),this.$store.commit("tanchuangshow",!0),this.ActivityName="",this.ActivitySelected="",this.setActivity="",this.overActivity="",this.allPeople="",this.inputText=""):(this.$store.commit("tanchaung","活动创建失败"),this.$store.commit("tanchuangshow",!0))}}catch(t){console.log(t)}}})},srsetActivity(){/^20[2-9][0-9]-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01]) (0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/.test(this.setActivity)?this.cwsetActivity="":this.cwsetActivity="格式错误( 示例 2025-07-14 15:03 )"},sroverActivity(){/^20[2-9][0-9]-(0[1-9]|1[0-2])-(0[1-9]|[12][0-9]|3[01]) (0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]$/.test(this.overActivity)?this.cwoverActivity="":this.cwoverActivity="格式错误( 示例 2025-07-14 15:03 )"},srallPeople(){/^\d*$/.test(this.allPeople)?this.cwallPeople="":this.cwallPeople="请输入正确人数"}},created(){const t=localStorage.getItem("getConfig");if("null"==t||"undefined"==t||""==t)(0,b.A)({reqBody:{token:localStorage.getItem("token"),deviceid:localStorage.getItem("equipment")},reqUrl:"http://8.148.31.153:3030/getConfig",callback:(t,e)=>{try{if(!t){const t=JSON.parse(e);this.ActivitySelectedArr=t.resData,localStorage.setItem("getConfig",e)}}catch(i){console.log(i)}}});else{const t=JSON.parse(localStorage.getItem("getConfig"));this.ActivitySelectedArr=t.resData}}},S=i(1241);const P=(0,S.A)(_,[["render",x],["__scopeId","data-v-72cd023e"]]);var q=P},6458:function(t,e,i){i.d(e,{A:function(){return l}});i(8111),i(7588);function l({reqBody:t={},reqMethod:e="post",reqUrl:i="",async:l=!0,reqHeader:c={"Content-Type":"application/x-www-form-urlencoded"},callback:a}){let s=null,o=null;switch(Object.values(c)[0]){case"application/x-www-form-urlencoded":s=new URLSearchParams,Object.entries(t).forEach(([t,e])=>{s.append(t,e)}),o=s.toString();break;case"application/json":s=JSON.stringify(t),o=s;break}let r=new XMLHttpRequest;r.open(e,i,l),Object.entries(c).forEach(([t,e])=>{r.setRequestHeader(t,e)}),r.onload=function(){r.status>=200&&r.status<300?a(null,r.response):a(new Error(`请求失败，状态码：${r.status}`))},r.onerror=function(){a(new Error("网络错误"))},r.send(o)}}}]);
//# sourceMappingURL=174.d988a94f.js.map