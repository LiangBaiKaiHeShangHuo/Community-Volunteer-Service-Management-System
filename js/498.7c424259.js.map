{"version":3,"file":"js/498.7c424259.js","mappings":"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","sources":["webpack://volunteer/./src/views/User/UserLogin.vue","webpack://volunteer/./src/views/User/UserLogin.vue?ef05","webpack://volunteer/./src/store/AjaxRequest.js"],"sourcesContent":["<template>\r\n  <!-- <button @click=\"$store.commit('guan')\"> x</button> -->\r\n  <div id=\" login\" class=\"content-page\" v-show=\"$store.state.isdenglushow\">\r\n    <div style=\"\r\n        max-width: 450px; \r\n        margin: 0 auto;\r\n        background: white;\r\n        border-radius: 16px;\r\n        box-shadow: var(--card-shadow);\r\n        overflow: hidden;\r\n        width: 395px;\r\n      \">\r\n      <div style=\"background: var(--primary-color); color: white; text-align: center; padding: 30px\">\r\n        <h2 style=\"font-size: 28px; margin-bottom: 10px\">欢迎回来</h2>\r\n        <p>志愿社区管家平台</p>\r\n      </div>\r\n      <div style=\"padding: 30px\">\r\n        <div class=\"form-group\">\r\n          <label for=\"login-username\">用户名</label>\r\n          <input type=\"text\" id=\"login-username\" class=\"form-control\" placeholder=\"请输入邮箱\" name=\"email\" v-model=\"name\"\r\n            @input=\"jiancename\" />\r\n          <span class=\"yonghumingcuowu\">{{ yonghuname }}</span>\r\n        </div>\r\n        <div class=\"form-group\">\r\n          <label for=\"login-password\">密码</label>\r\n          <input type=\"password\" id=\"login-password\" class=\"form-control\" placeholder=\"请输入密码\" name=\"Password\"\r\n            v-model=\"password\" @input=\"jiancepassword\" />\r\n          <span class=\"yonghumingcuowu\">{{ yonghupassword }}</span>\r\n        </div>\r\n        <div style=\"\r\n            display: flex;\r\n            justify-content: space-between;\r\n            align-items: center;\r\n            margin-bottom: 20px;\r\n          \">\r\n          <div>\r\n            <input type=\"checkbox\" id=\"remember\" v-model=\"tongyi\" @click=\"iftongyi\" />\r\n            <label for=\"remember\" style=\"margin-left: 5px ;color: var(--primary-color)\">同意协议</label>\r\n          </div>\r\n          <!-- <div>\r\n            <input type=\"checkbox\" id=\"remember\" v-model=\"ifjizhume\" @click=\"jizhume\" />\r\n            <label for=\"remember\" style=\"margin-left: 5px\">记住我</label>\r\n          </div> -->\r\n          <a href=\"#\" style=\"color: var(--primary-color); text-decoration: none\" @click=\"wnagijpassdorw\">忘记密码?</a>\r\n        </div>\r\n\r\n        <button :disabled=\"isDisabled\" class=\"btn btn-primary btn-block\" id=\"loginBtn\" type=\"submit\" @click=\"denglu\">\r\n          {{ annuvalue }}\r\n        </button>\r\n\r\n        <div style=\"\r\n            display: flex;\r\n           justify-content: center;\r\n            align-items: center;\r\n            margin-top: 20px;\r\n          \">\r\n        </div>\r\n        <div style=\"\r\n            text-align: center;\r\n            margin-top: 25px;\r\n            padding-top: 20px;\r\n            border-top: 1px solid var(--border-color);\r\n          \">\r\n          <p>\r\n            还没有账号?\r\n            <a href=\"#\" id=\"goToRegister\"\r\n              style=\"padding: 20px 20px; color: var(--primary-color); text-decoration: none; font-weight: 500\"\r\n              @click=\"lijizhuce\">立即注册</a>\r\n          </p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n// import api from \"@/store/axiosqingqiu\";\r\nimport qingqiu from \"@/store/AjaxRequest\";\r\n// import { mapState } from \"vuex\";\r\n\r\nexport default {\r\n  data() {\r\n    return {\r\n      //name\r\n      name: \"\",\r\n      yonghuname: \"\",\r\n\r\n      //password\r\n      password: \"\",\r\n      yonghupassword: \"\",\r\n\r\n      //记住我\r\n      ifjizhume: false,\r\n\r\n      //同意协议\r\n      tongyi: false,\r\n\r\n      //用户信息\r\n      userarr: \"\",\r\n\r\n      //登录错误\r\n      dengluname: '',\r\n      denglupassword: \"\",\r\n\r\n      //按钮\r\n      isDisabled: false,\r\n      annuvalue: \"登录\"\r\n    };\r\n  },\r\n  created() {\r\n\r\n  },\r\n  methods: {\r\n    //输入用户名\r\n    jiancename() {\r\n      //name\r\n      if (!/^[a-zA-Z0-9\\u4e00-\\u9fa5._-]+@[a-zA-Z0-9.-]+\\.[a-zA-Z]{2,}$/.test(this.name)) {\r\n        this.yonghuname = \"电子邮件格式不正确\"\r\n        return;\r\n      }\r\n      if (this.name == \"\") {\r\n        (this.yonghuname = \"电子邮件不能为空\")\r\n        return;\r\n      }\r\n      if (/\\s/.test(this.name)) {\r\n        (this.yonghuname = \"电子邮件不能有空格\")\r\n        return;\r\n      }\r\n      if (this.name.length > 64) {\r\n        this.yonghuname = \"电子邮件不应超过64个字符\";\r\n        return;\r\n      }\r\n      this.yonghuname = \"\"\r\n    },\r\n    //输入密码\r\n    jiancepassword() {\r\n      /^.{8,16}$/.test(this.password)\r\n        ? this.yonghupassword = \"\"\r\n        : this.password === \"\"\r\n          ? (this.yonghupassword = \"密码不能为空\")\r\n          : (this.yonghupassword = \"密码应为8~16个字符\");\r\n    },\r\n    //记住我\r\n    jizhume() {\r\n      this.ifjizhume = !this.ifjizhume\r\n      if (this.ifjizhume) {\r\n        this.$store.commit(\"ifjizhuwo\")\r\n        console.log(this.$store.state.jizhuwo)\r\n      }\r\n    },\r\n    //同意协议\r\n    iftongyi() {\r\n      this.tongyi = !this.tongyi\r\n    },\r\n    //忘记密码\r\n    wnagijpassdorw() {\r\n      alert(\"你真的忘记密码了？\");\r\n      alert(\"你个sb\");\r\n    },\r\n    //注册\r\n    lijizhuce() {\r\n      this.$router.push(\"UserRegistration\");\r\n    },\r\n    //登录\r\n    denglu() {\r\n      this.isDisabled = true;\r\n      this.annuvalue = \"登录中...\"\r\n      // 请求数据\r\n      const chuanxinxi = new URLSearchParams();\r\n      // chuanxinxi.append(\"email\", \"hm2897135735@qq.com\");\r\n      // chuanxinxi.append(\"password\", \"88888888\");\r\n      chuanxinxi.append(\"email\", this.name);\r\n      chuanxinxi.append(\"password\", this.password);\r\n\r\n      const jsonData = chuanxinxi.toString().replace(/%40/g, '@');\r\n\r\n      const shuju1 = { \"pattern\": \"POST\", \"url\": \"http://8.148.31.153:3030/login\", \"shuju\": jsonData }\r\n      qingqiu(shuju1, (qinqiushuju) => {\r\n        // console.log(qinqiushuju)\r\n        this.userarr = JSON.parse(qinqiushuju.responseText).success == false ? JSON.parse(qinqiushuju.responseText).message : JSON.parse(qinqiushuju.responseText)\r\n        // console.log(JSON.parse(qinqiushuju.responseText))\r\n        if (JSON.parse(qinqiushuju.responseText).success) {\r\n          //数据正确\r\n          if (this.tongyi) {\r\n            //同意\r\n            //本地存储\r\n            localStorage.setItem(\"denglutoken\", true)\r\n            //改文字\r\n            this.$store.commit(\"dlcg\", \"退出登录\")\r\n            //登录成功的用户信息\r\n            this.$store.commit(\"yonghuxx\", this.userarr)\r\n            localStorage.setItem(\"userxingxi\", JSON.stringify(this.userarr));\r\n            const times1 = setTimeout(() => { this.$router.push({ name: \"FunctiontWorkbench\" }), this.$store.commit(\"ifisgongzuotaishow\", true) }, 2000)\r\n            times1\r\n            this.isDisabled = false\r\n          } else {\r\n            //不同意  \r\n            this.annuvalue = \"登录\"\r\n            this.$store.commit(\"tanchaung\", \"同意协议方可登录\")\r\n            this.$store.commit(\"tanchuangshow\", true)\r\n            this.tongyi = true;\r\n            this.isDisabled = false\r\n          }\r\n        } else {\r\n          //数据错误\r\n          this.$store.commit(\"Cuowu\", this.name == '' && this.password == \"\" ? \"账号或密码不能为空\" : this.userarr)\r\n          this.$store.commit(\"Cuowushow\", true)\r\n          this.annuvalue = \"登录\"\r\n          this.isDisabled = false\r\n        }\r\n      },\r\n        false)\r\n\r\n      //使用axios请求\r\n      // api({\r\n      //   url: \"http://8.148.70.85:3030/login\",\r\n      //   method: \"POST\",\r\n      //   headers: {\r\n      //     \"Content-Type\": \"application/x-www-form-urlencoded\",\r\n      //     \"Accept\": \"application/json\"\r\n      //   },\r\n      //   data: new URLSearchParams({ // 关键修复：使用 URLSearchParams 编码数据\r\n      //     username: \"0001\",\r\n      //     password: \"root1212\"\r\n      //   }).toString()\r\n      // }).then(rel => {\r\n      //   console.log(rel);\r\n      // }).catch(error => {\r\n      //   console.error(\"请求失败：\", error);\r\n      // });\r\n    },\r\n  },\r\n};\r\n</script>\r\n<style scoped>\r\n#login {\r\n  margin: 0 auto;\r\n}\r\n</style>\r\n","import { render } from \"./UserLogin.vue?vue&type=template&id=9fc2a5ae&scoped=true\"\nimport script from \"./UserLogin.vue?vue&type=script&lang=js\"\nexport * from \"./UserLogin.vue?vue&type=script&lang=js\"\n\nimport \"./UserLogin.vue?vue&type=style&index=0&id=9fc2a5ae&scoped=true&lang=css\"\n\nimport exportComponent from \"../../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-9fc2a5ae\"]])\n\nexport default __exports__","function qingqiu(reqInfos, huidiao, istrue) {\r\n  const xhr = new XMLHttpRequest();\r\n  xhr.open(reqInfos.pattern, reqInfos.url, istrue);\r\n  xhr.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\r\n  xhr.setRequestHeader(\"Accept\", \"application/json\");\r\n  xhr.onload = function () {\r\n    if (xhr.status >= 200 && xhr.status < 400) {\r\n      huidiao({ responseText: xhr.responseText });\r\n    } else if (xhr.status >= 400 && xhr.status <= 500) {\r\n      huidiao(console.log(\"用户名和密码不匹配\"));\r\n    } else {\r\n      console.error(\"网路错误\", xhr.statusText);\r\n    }\r\n  };\r\n  xhr.onerror = function () {\r\n    console.error(\"用户名和密码不匹配\");\r\n  };\r\n  xhr.send(reqInfos.shuju);\r\n}\r\nexport default qingqiu;\r\n\r\n// function qingqiu(shuju, huidiao, istrue) {\r\n//   var xhr = new XMLHttpRequest();\r\n//   xhr.open(\"post\", \"http://8.148.31.153:3030/login\", istrue);\r\n//   xhr.setRequestHeader(\"Content-Type\", \"application/x-www-form-urlencoded\");\r\n//   xhr.setRequestHeader(\"Accept\", \"application/json\");\r\n//   xhr.onload = function () {\r\n//     if (xhr.status >= 200 && xhr.status < 400) {\r\n//       huidiao({ responseText: xhr.responseText });\r\n//     } else if (xhr.status >= 400 && xhr.status <= 500) {\r\n//       huidiao(console.log(\"用户名和密码不匹配\"));\r\n//     } else {\r\n//       console.error(\"网路错误\", xhr.statusText);\r\n//     }\r\n//   };\r\n//   xhr.onerror = function () {\r\n//     console.error(\"用户名和密码不匹配\");\r\n//   };\r\n//   xhr.send(shuju);\r\n// }\r\n\r\n// export default qingqiu;\r\n\r\n// reqInfs{\r\n//  pattern:Boolean,\r\n//  :String,\r\n//  shuju:\r\n// }\r\n"],"names":["id","class","style","_createElementBlock","_hoisted_1","_createElementVNode","_hoisted_2","_hoisted_3","_hoisted_4","for","type","placeholder","name","$data","$event","onInput","_cache","args","$options","jiancename","_hoisted_5","_toDisplayString","yonghuname","_hoisted_6","password","jiancepassword","_hoisted_7","yonghupassword","_hoisted_8","tongyi","onClick","iftongyi","href","wnagijpassdorw","disabled","isDisabled","denglu","annuvalue","_hoisted_9","_hoisted_10","lijizhuce","_ctx","$store","state","isdenglushow","data","ifjizhume","userarr","dengluname","denglupassword","created","methods","test","this","length","jizhume","commit","console","log","jizhuwo","alert","$router","push","chuanxinxi","URLSearchParams","append","jsonData","toString","replace","shuju1","qingqiu","qinqiushuju","JSON","parse","responseText","success","message","localStorage","setItem","stringify","setTimeout","__exports__","render","reqInfos","huidiao","istrue","xhr","XMLHttpRequest","open","pattern","url","setRequestHeader","onload","status","error","statusText","onerror","send","shuju"],"sourceRoot":""}